{% extends 'base.html' %}

{% block title %}Signup Page{% endblock %}

{% block content %}

<div class="container">

    {% if messages %}
            <div>
                {% for message in messages %}
                <div class="alert alert-info" role="alert">
                    <p>Message : {{message}} </p>
                  </div>
                {% endfor %}
            </div>
        {% endif %}

    <form class="row g-3" method="post" action="">
        {% csrf_token %}
        <div class="col-md-6">
            <label for="inputFirstName" class="form-label">First Name</label>
            <input type="text" name="first_name" value="{{form_data.first_name}}" class="form-control" id="inputFirstName" required>
          </div>
          <div class="col-md-6">
            <label for="inputLastName" class="form-label">Last Name</label>
            <input type="text" name="last_name" value="{{form_data.last_name}}" class="form-control" id="inputLastName" required>
          </div>
        <div class="col-md-6">
          <label for="inputEmail4" class="form-label">Email</label>
          <input type="email" name="email" value="{{form_data.email}}" class="form-control" id="inputEmail4" required>
        </div>
        <div class="col-md-6">
            <label for="inputMobile" class="form-label">Mobile Number</label>
            <input type="tel" name="mobile" value="{{form_data.mobile}}" class="form-control" id="inputMobile" required>
          </div>
        <div class="col-md-6">
          <label for="inputPassword4" class="form-label">Password</label>
          <input type="password" name="password" class="form-control" id="inputPassword4" minlength="4" required>
        </div>
        <div class="col-md-6">
            <label for="inputPassword5" class="form-label">Confirm Password</label>
            <input type="password" name="password2" class="form-control" id="inputPassword5" minlength="4" required>
          </div>
        <div class="col-12">
          <label for="inputAddress" class="form-label">Address</label>
          <input type="text" name="address" value="{{form_data.address}}" class="form-control" id="inputAddress" placeholder="address line" required>
        </div>
        <div class="col-md-6">
          <label for="inputCity" class="form-label">City</label>
          <input type="text" name="city" value="{{form_data.city}}" class="form-control" id="inputCity" required>
        </div>
        <div class="col-md-4">
          <label for="inputState" class="form-label">State</label>
          <select id="inputState" name="state" class="form-select" required>
            <option selected disabled>Choose...</option>
            <option value="Maharashtra" {%if form_data.state == "Maharashtra" %}selected{% endif %}>Maharashtra</option>
            <option value="Karnataka" {% if current_state == "Karnataka" %}selected{% endif %}>Karnataka</option>
            <option value="Gujarat" {% if current_state == "Gujarat" %}selected{% endif %}>Gujarat</option>
          </select>
        </div>
        <div class="col-md-2">
          <label for="inputZip" class="form-label">Zip</label>
          <input type="text" class="form-control" name="zip" value="{{form_data.zip}}" id="inputZip" required>
        </div>
        <div class="col-12">
          <button type="submit" onclick="return validateForm()" class="btn btn-primary">Create New Account</button>
        </div>
    </form>
</div>

<script>

function validateForm() {
    const password = document.getElementById('inputPassword4').value;
    const confirmPassword = document.getElementById('inputPassword5').value;

    if (password !== confirmPassword) {
        alert('Passwords do not match');
        return false;  // Prevent form submission
    }
    return true;  // Allow form submission
}

</script>

{% endblock %}